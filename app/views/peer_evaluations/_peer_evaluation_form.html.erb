<%= simple_form_for locals[:peer_evaluation],
                    :url => {action: (locals[:is_new] ? 'create' : 'update')} do |f| %>
    <%= render 'shared/error_messages', locals: {target_model: locals[:peer_evaluation]} %>
    <div class="form-group">
      <label class="control-label" for="target-submission-id">Submission:</label>
      <%= f.select :submission_id, locals[:submissions].map {|sub|
                                   [sub.team.team_name + ' @ ' + sub.milestone.name, sub.id]},
                   {}, {class: 'form-control'} %>
    </div>
    <div class="form-group" style="display: none;">
      <label class="control-label" for="peer-evaluation-public-content">Public content:</label>
      <%= f.text_area :public_content, class: 'form-control',
                      placeholder: 'Input evaluation public content',
                      id: 'peer-evaluation-public-content', rows: '10', required: 'required' %>
    </div>
    <div class="form-group" style="display: none;">
      <label class="control-label" for="peer-evaluation-private-content">Private content:</label>
      <%= f.text_area :private_content, class: 'form-control',
                      placeholder: 'Input evaluation private content',
                      id: 'peer-evaluation-private-content', rows: '10', required: 'required' %>
    </div>
    <div id="eval-template">
      <%= render 'eval_public_form_part' %>
      <%= render 'eval_private_form_part' %>
    </div>
    <div class="checkbox">
      <label class="col-sm-offset-2">
        <%= f.check_box :published, {}, 'true', 'false' %> Publish
      </label>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <%= f.submit 'Submit', class: 'btn btn-success' %>
      </div>
    </div>
<% end %>
